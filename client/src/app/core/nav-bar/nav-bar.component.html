<nav class="border-gray-200 bg-white dark:bg-gray-900">
  <div class="container flex flex-wrap items-center justify-between">
    <!-- LOGO -->
    <a [routerLink]="['']" class="flex items-center space-x-3 rtl:space-x-reverse">
      <img src="https://www.reshot.com/preview-assets/icons/ZSM4LVY56G/beer-ZSM4LVY56G.svg" class="h-12" alt="Flowbite Logo" />

      <span class="self-center whitespace-nowrap text-2xl font-semibold dark:text-white">Nani Shop</span>
    </a>

    <!-- NAV-BAR -->
    <div class="hidden w-full md:block md:w-auto" id="navbar">
      <ul
        class="mt-4 flex flex-col rounded-lg border border-gray-100 bg-gray-50 p-4 font-medium uppercase md:mt-0 md:flex-row md:space-x-8 md:border-0 md:bg-white md:p-0 rtl:space-x-reverse">
        <li>
          <a
            [routerLink]="['']"
            routerLinkActive="text-blue-700"
            [routerLinkActiveOptions]="{ exact: true }"
            class="block rounded px-3 py-2 text-gray-900 dark:text-white md:bg-transparent md:p-0 md:hover:text-blue-700"
            aria-current="page">
            Home
          </a>
        </li>
        <li>
          <a
            [routerLink]="['/shop']"
            routerLinkActive="text-blue-700"
            s="block rounded px-3 py-2 text-gray-900 hover:bg-gray-100 md:border-0 md:p-0 md:hover:bg-transparent md:hover:text-blue-700">
            Shop
          </a>
        </li>
        <li>
          <a
            [routerLink]="['/test-error']"
            routerLinkActive="text-blue-700"
            s="block rounded px-3 py-2 text-gray-900 hover:bg-gray-100 md:border-0 md:p-0 md:hover:bg-transparent md:hover:text-blue-700">
            Error
          </a>
        </li>
        <li>
          <a class="block rounded px-3 py-2 text-gray-900 hover:bg-gray-100 md:border-0 md:p-0 md:hover:bg-transparent md:hover:text-blue-700">
            Contact
          </a>
        </li>
      </ul>
    </div>

    <!-- ACTIONS -->
    <div class="flex items-center">
      <button
        [routerLink]="['/basket']"
        type="button"
        class="focus:ring-blue-1500 group relative mr-4 inline-flex items-center rounded-lg p-2 text-center text-sm font-medium text-gray-800 duration-300 ease-in focus:outline-none focus:ring-4">
        <svg
          class="h-10 w-10 text-gray-800"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          viewBox="0 0 24 24">
          <path
            fill-rule="evenodd"
            d="M4 4a1 1 0 0 1 1-1h1.5a1 1 0 0 1 .979.796L7.939 6H19a1 1 0 0 1 .979 1.204l-1.25 6a1 1 0 0 1-.979.796H9.605l.208 1H17a3 3 0 1 1-2.83 2h-2.34a3 3 0 1 1-4.009-1.76L5.686 5H5a1 1 0 0 1-1-1Z"
            clip-rule="evenodd" />
        </svg>

        <span class="sr-only">Basket</span>
        <div
          class="absolute -end-1 right-1 top-1 inline-flex h-6 w-6 items-center justify-center rounded-full border-2 border-white bg-red-500 text-xs font-bold text-white dark:border-gray-900"
          *ngIf="basket$ | async as basket">
          {{ basket.items.length }}
        </div>
      </button>
      <ng-container *ngIf="(currentUser$ | async) === null">
        <button
          [routerLink]="['/account/signin']"
          class="mb-2 me-2 flex items-center justify-between rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300">
          <div class="mr-2 text-base">Sign in</div>
        </button>
        <button
          [routerLink]="['/account/register']"
          class="mb-2 me-2 flex items-center justify-between rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300">
          <div class="mr-2 text-base">Sign up</div>
        </button>
      </ng-container>
      <ng-container *ngIf="currentUser$ | async as currentUser">
        <button
          id="dropdownAvatarNameButton"
          data-dropdown-toggle="dropdownAvatarName"
          class="flex items-center rounded-full pe-1 text-sm font-medium text-gray-900 hover:text-blue-600 focus:ring-4 focus:ring-gray-100 dark:text-white dark:hover:text-blue-500 dark:focus:ring-gray-700 md:me-0"
          type="button">
          <span class="sr-only">Open user menu</span>
          <img class="me-2 h-8 w-8 rounded-full" src="https://cdn-icons-png.flaticon.com/512/219/219970.png" alt="user photo" />
          Welcome {{ currentUser.displayName }}
          <svg class="ms-3 h-2.5 w-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4" />
          </svg>
        </button>

        <!-- Dropdown menu -->
        <div
          id="dropdownAvatarName"
          class="z-10 hidden w-44 divide-y divide-gray-100 rounded-lg bg-white shadow dark:divide-gray-600 dark:bg-gray-700">
          <div class="px-4 py-3 text-sm text-gray-900 dark:text-white">
            <div class="font-medium">Pro User</div>
            <div class="truncate">{{ currentUser.email }}</div>
          </div>
          <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownInformdropdownAvatarNameButtonationButton">
            <li>
              <a [routerLink]="['/basket']" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">View baskets</a>
            </li>
            <li>
              <a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">View orders</a>
            </li>
          </ul>
          <div class="py-2">
            <a
              (click)="onLogout()"
              (keypress)="onLogout()"
              class="block cursor-pointer px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white">
              Sign out
            </a>
          </div>
        </div>
        l
      </ng-container>
    </div>
  </div>
</nav>
